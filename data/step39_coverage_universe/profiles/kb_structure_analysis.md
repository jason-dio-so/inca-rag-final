# KB 가입설계서 구조 분석 리포트 (STEP 3.9-0)

**보험사**: KB
**분석 대상**: `KB_가입설계서.pdf`
**분석 일자**: 2025-12-25

---

## 1. 전체 구조 요약

KB 가입설계서는 **2단계 표 구조**를 가진다:

1. **요약표** (pages 2-3): "통합고객님 피보험자님의 가입내용"
   - 담보명, 가입금액, 보험료, 납입/보험기간만 나열
   - 번호순 단순 나열 (1, 2, 3, 5, 8, 70, 72, ...)
   - **담보 리스트의 유일한 출처**

2. **상세표** (pages 4-8): "보장명 및 보장내용"
   - 담보명 + **보장내용(서술형 긴 문장)** + 가입금액 + 보험료 + 납입/보험기간
   - 각 담보 row 내부에 조건·감액·보장개시일 주석(※) 포함
   - 우측에 아이콘 표시 (예약담보, 년/월지급형담보, 면책기간有)
   - **보장 조건의 유일한 출처**

3. **순수 텍스트 구간** (pages 8-13)
   - 기타 유의사항, 갱신계약 관련 사항, 해약환급금 등
   - 표와 표 사이에는 텍스트 개입 없음 (표 이후에만 존재)

---

## 2. 요약표 vs 상세표 차이점

### 2-1. 요약표 ("통합고객님 피보험자님의 가입내용", pages 2-3)

**컬럼 구조**:
```
보장명 | 가입금액 | 보험료(원) | 납입|보험기간
```

**특징**:
- 담보명만 기재, 보장내용 없음
- 번호순 나열 (연속되지 않음: 1, 2, 3, 5, 8, 70, 72, ...)
- 갱신형 담보는 담보명 뒤에 "(갱신형)" 표시:
  ```
  206 다빈치로봇 암수술비(갑상선암 및 전립선암 제외)(최초1회한)(갱신형)
  ```
- 병합 셀 없음 (각 담보 1 row씩)
- 보험료 합계 명시: "보장합계"
- 카테고리 구분 없음 (단순 번호순)

**역할**:
- "어떤 담보에 가입했는가"의 절대 기준
- Universe Lock의 SSOT (Single Source of Truth)

---

### 2-2. 상세표 ("보장명 및 보장내용", pages 4-8)

**컬럼 구조**:
```
보장명 및 보장내용 | [보장내용 서술] | 가입금액 | 보험료(원) | 납입|보험기간
```

**특징**:
- 각 담보별 1 row씩 완전 분리
- 보장내용 컬럼에 긴 서술형 문장:
  ```
  보험기간 중 암보장개시일 이후에 암(유사암 제외)으로 진단확정시(최초1회한)
  ※ 특정소액암(유방, 자궁경부, 자궁체부, 전립선, 방광의 악성신생물(암))의 경우
  계약일로부터 1년미만시 보험가입금액의 50%지급
  ※ 암보장개시일 : 계약일로부터 그날을 포함하여 90일이 지난날의 다음날
  ```
- 주석(※)으로 조건 명시:
  - 보장개시일 (예: 암 90일 대기)
  - 감액 조건 (예: "1년 미만 50% 감액")
  - 제외 사항 (예: "유사암 제외")
  - 지급 한도 (예: "최초1회한")
- 우측에 아이콘 표시:
  - 📅 예약담보
  - 📆 년/월지급형담보
  - 📋 면책기간有

**역할**:
- "이 담보가 어떻게 작동하는가"의 절대 기준
- 고객 질의 응답 시 필수 참조 문서

---

## 3. 고객 질의와 요약표의 한계

### 3-1. 예시 질의

**고객 질문**: "암 진단비는 90일 대기 기간이 있나요?"

**요약표로는 답변 불가**:
- 요약표에는 "70 암진단비(유사암제외) 3천만원 36,420 20년/100세"만 기재
- 보장개시일 정보 없음

**상세표로만 답변 가능**:
- 상세표 page 4:
  ```
  70 암진단비(유사암제외)
  보험기간 중 암보장개시일 이후에 암(유사암 제외)으로 진단확정시(최초1회한)
  ※ 특정소액암(유방, 자궁경부, 자궁체부, 전립선, 방광의 악성신생물(암))의 경우
  계약일로부터 1년미만시 보험가입금액의 50%지급
  ※ 암보장개시일 : 계약일로부터 그날을 포함하여 90일이 지난날의 다음날
  ```

---

### 3-2. 다른 예시

**고객 질문**: "뇌졸중 진단비는 1년 미만이면 감액되나요?"

**요약표**: "93 뇌졸중진단비 1천만원 8,010 20년/100세" (조건 없음)

**상세표** (page 5):
```
93 뇌졸중진단비
보험기간 중 뇌졸중으로 진단확정시
(최초1회한, 계약일로부터 1년미만 진단시 가입금액의 50%지급)
```

👉 **결론**: 고객 질의 응답은 상세표 없이는 불가능

---

## 4. 요약표와 상세표의 관계

### 4-1. 1:1 대응 여부

**기본 원칙**: 1:1 대응 (요약표의 모든 담보가 상세표에도 존재)

**매핑 방법**:
- 담보 번호(예: 70, 72, 74)로 1:1 매핑 가능
- 요약표와 상세표의 담보 순서 동일

---

### 4-2. 요약표에만 있고 상세표에 없는 담보?

**없음**. 요약표의 모든 담보가 상세표에 존재함.

---

### 4-3. 상세표에만 있고 요약표에 없는 담보?

**없음**. 상세표는 요약표의 완전 확장판임.

---

## 5. STEP 3.9-1 추출 전략

### 5-1. Universe 추출 대상 표

**대상 표**: 요약표 "통합고객님 피보험자님의 가입내용" (pages 2-3)

**근거**:
1. **Coverage Universe Lock 원칙 준수**:
   - 가입설계서에서 "고객이 실제 가입한 담보 목록"의 유일한 출처는 요약표
   - 상세표는 보장 조건만 추가 기재할 뿐, 가입 여부를 결정하지 않음

2. **SSOT (Single Source of Truth)**:
   - 요약표 = "What coverages are in this contract"
   - 상세표 = "How each coverage works"

3. **중복 회피**:
   - 요약표와 상세표를 모두 추출하면 동일 담보가 중복 추출됨
   - Universe는 단일 출처에서만 추출해야 함

---

### 5-2. 상세표의 역할

**상세표는 Universe 추출 대상이 아님**.

**역할**:
- Universe 추출 후, 각 담보의 조건·감액·보장개시일을 **보강(Augmentation)** 하는 용도
- 고객 질의 응답 시 RAG retrieval 대상 (compare_axis, policy_axis)

**처리 방법**:
1. STEP 3.9-1: 요약표에서 담보명 + 가입금액 + 보험료 추출 → Universe 테이블
2. STEP 후속: 상세표에서 보장내용 + 조건 추출 → Augmentation 또는 별도 테이블

---

## 6. 구조적 특이사항

### 6-1. 갱신형 담보 표시

- 담보명에 "(갱신형)" 접미어 명시:
  ```
  206 다빈치로봇 암수술비(갑상선암 및 전립선암 제외)(최초1회한)(갱신형)
  ```
- 납입기간 컬럼에 "10년/10년갱신 (갱신종료:100세)" 기재

---

### 6-2. 카테고리 구분

**요약표**:
- 카테고리 구분 없음 (번호순 단순 나열)

**상세표**:
- "기본계약" / "선택계약" 구분 없음 (번호순 나열)

👉 KB는 SAMSUNG과 달리 카테고리 시각적 구분이 없음

---

### 6-3. 보험료 합계 표시

- 요약표 마지막에 "보장합계" 표시
- 갱신담보 별도 합계 없음 (전체 합산)

---

### 6-4. 아이콘 표시

**상세표 우측에 아이콘 표시**:
- 📅 예약담보
- 📆 년/월지급형담보
- 📋 면책기간有

👉 시각적으로 담보 특성 구분

---

## 7. 정리 및 권고사항

| 항목 | 요약표 | 상세표 |
|------|--------|--------|
| **위치** | pages 2-3 | pages 4-8 |
| **표 이름** | 통합고객님 피보험자님의 가입내용 | 보장명 및 보장내용 |
| **담보명** | ✅ | ✅ |
| **가입금액** | ✅ | ✅ |
| **보험료** | ✅ | ✅ |
| **보장내용** | ❌ | ✅ (긴 서술형 문장) |
| **조건·감액·보장개시일** | ❌ | ✅ (주석 ※) |
| **Universe 추출 대상** | ✅ | ❌ |
| **고객 질의 응답 가능** | ❌ | ✅ |

---

### STEP 3.9-1 실행 시 지침

1. **요약표("통합고객님 피보험자님의 가입내용")만 파싱**하여 CSV 생성
2. 컬럼:
   - `coverage_number`: 담보 번호 (1, 2, 3, 5, 8, 70, ...)
   - `coverage_name_raw`: 담보명 원문
   - `coverage_amount`: 가입금액
   - `premium`: 보험료
   - `pay_term`: 납입기간
   - `coverage_period`: 보험기간

3. **갱신형 담보 처리**:
   - 담보명에서 "(갱신형)" 추출하여 별도 플래그 생성
   - 납입기간에서 "10년/10년갱신" 파싱

4. **상세표는 건드리지 않음** (STEP 3.9-1 범위 밖)

---

## 종료

본 분석은 **KB 가입설계서 1개만** 대상으로 하였으며,
다른 보험사로 넘어가지 않았음.

**DoD 달성**:
- ✅ KB 가입설계서 구조 완전 파악
- ✅ 요약표 / 상세표 / 텍스트 구간 명확히 구분
- ✅ STEP 3.9-1 대상 표(요약표 "통합고객님 피보험자님의 가입내용") 구조적으로 설명 완료
- ✅ 다른 보험사로 넘어가지 않음

**다음 단계 대기 중**.
